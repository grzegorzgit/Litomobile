function litomobile(config){var is_supported=function(){var div=document.createElement("div");return div.className="test",void 0!==div.classList};if(!is_supported())return console.log("This browser doesn't support Litomobile."),null;var litomobile={container:null,ul_menu:null,desktop_menu:config.desktop_menu_to_hide?document.querySelector(config.desktop_menu_to_hide):document.querySelector(config.ul_selector),is_opera_mini:navigator.userAgent.indexOf("Opera Mini")>-1,closeMenu:function(){if(this.container.classList.remove("litomobile_open"),this.container.classList.add("litomobile_closed"),this.is_opera_mini?(this.icon.classList.add("litomobile_icon_closed_om"),this.icon.classList.remove("litomobile_icon_open_om")):(this.icon.classList.add("litomobile_icon_closed"),this.icon.classList.remove("litomobile_icon_open")),this.is_opera_mini)"left"==config.position||"right"==config.position?this.container.style.width="0":this.container.style.height="0";else switch(config.position){case"left":this.container.style.transform="translateX(-"+this.menu_width+"px)";break;case"right":this.container.style.transform="translateX("+this.menu_width+"px)";break;case"top":this.container.style.transform="translateY(-"+this.menu_height+"px)";break;case"bottom":this.container.style.transform="translateY("+this.menu_height+"px)"}for(var submenus=this.ul_menu.querySelectorAll("li > ul"),tmp_this=this,i=0;i<submenus.length;i++)this.closeSubmenu(submenus[i])},easing:config.animation_ease||"linear",animation_duration:config.animation_duration||"0.5s",openMenu:function(){this.container.style.transition=this.animation_duration+" "+this.easing,this.container.classList.remove("litomobile_closed"),this.container.classList.add("litomobile_open"),this.is_opera_mini?(this.icon.classList.remove("litomobile_icon_closed_om"),this.icon.classList.add("litomobile_icon_open_om")):(this.icon.classList.remove("litomobile_icon_closed"),this.icon.classList.add("litomobile_icon_open")),this.is_opera_mini?"left"==config.position||"right"==config.position?this.container.style.width=this.menu_width+"px":this.container.style.height=this.menu_height+"px":"left"==config.position||"right"==config.position?this.container.style.transform="translateX(0)":this.container.style.transform="translateY(0)"},menu_width:null,menu_height:null,setPosition:function(){var style=this.ul_menu.currentStyle||window.getComputedStyle(this.ul_menu);if(this.container.style.vsibility="hidden",this.container.style.width="auto",this.menu_width=this.container.querySelector(".litomobile_menu").offsetWidth+parseFloat(style.marginLeft)+parseFloat(style.marginRight),this.menu_height=this.ul_menu.offsetHeight+parseFloat(style.marginTop)+parseFloat(style.marginBottom),this.is_opera_mini)this.container.style.width=null;else switch(config.position){case"left":this.container.style.width=this.menu_width+"px",this.container.style.transform="translateX(-"+this.menu_width+"px)";break;case"right":this.container.style.width=this.menu_width+"px",this.container.style.transform="translateX("+this.menu_width+"px)";break;case"top":this.container.style.height=this.menu_height+"px",this.container.style.width="100%",this.container.style.transform="translateY(-"+this.menu_height+"px)";break;case"bottom":this.container.style.height=this.menu_height+"px",this.container.style.width="100%",this.container.style.transform="translateY("+this.menu_height+"px)"}this.container.style.vsibility="visible"},icon:null,makeIcon:function(){var icon=document.createElement("div");icon.className="litomobile_icon";var middle_bar=document.createElement("div");config.icon_width&&(icon.style.width=config.icon_width);var icon_height=20;config.icon_height&&(icon.style.height=config.icon_height,icon_height=parseFloat(config.icon_height));var middle_bar_marginTop=.2*icon_height/2*-1;middle_bar.style.marginTop=middle_bar_marginTop+"px",icon.appendChild(middle_bar),icon.appendChild(middle_bar.cloneNode());var tmp_this=this,target_place;if(icon.addEventListener("click",function(){tmp_this.container.classList.contains("litomobile_open")?tmp_this.closeMenu():tmp_this.openMenu()}),document.addEventListener("click",function(evt){if(tmp_this.container.classList.contains("litomobile_open")&&!evt.target.classList.contains("litomobile_icon")){targetElement=evt.target;var icon_middle_bar=icon.querySelector("div"),icon_middle_bar2=icon.querySelector("div:nth-child(2)");do{if(targetElement==tmp_this.container||targetElement==icon_middle_bar||targetElement==icon_middle_bar2)return;targetElement=targetElement.parentNode}while(targetElement);tmp_this.closeMenu()}}),config.icon_container)target_place=document.querySelector(config.icon_container);else switch(target_place=document.body,icon.style.zIndex=1e3,icon.style.position="fixed",config.position){case"right":icon.style.top="30px",icon.style.left="30px";break;case"left":icon.style.top="30px",icon.style.right="30px";break;case"top":icon.style.top="20px",icon.style.left="50%",icon.style.marginLeft="-"+parseFloat(config.icon_width)/2+"px";break;case"bottom":icon.style.bottom="30px",icon.style.left="50%",icon.style.marginLeft="-"+parseFloat(config.icon_width)/2+"px"}target_place.appendChild(icon),this.icon=icon},openSubmenu:function(element){element.style.height=element.dataset?element.dataset.height:element.getAttribute("data-height")},closeSubmenu:function(element){element.style.height="0",element.parentElement.classList.remove("submenu_opened")},processSubmenu:function(element){element.classList.contains("submenu_opened")?(this.closeSubmenu(element.querySelector("ul")),element.classList.remove("submenu_opened")):(element.classList.add("submenu_opened"),this.openSubmenu(element.querySelector("ul")))},addClickListener:function(){for(var tmp_this=this,lis=this.container.querySelectorAll(".litomobile_menu > li"),i=0;i<lis.length;i++){var element=lis[i];if(element.querySelector("ul")){var submenu=element.querySelector("ul");submenu.setAttribute("data-height",tmp_this.getHeightWithMargins(submenu)+"px")}element.addEventListener("click",function(e){e.target.querySelector("ul")?tmp_this.processSubmenu(e.target):tmp_this.closeMenu()})}},mobileUl:function(){var lis=document.querySelectorAll(config.ul_selector+" > li"),litomobile_menu=document.createElement("ul");litomobile_menu.className="litomobile_menu",config.set_id&&(litomobile_menu.id=config.set_id);for(var i=0;i<lis.length;i++){var li_element=lis[i].cloneNode(!0);litomobile_menu.appendChild(li_element)}return this.ul_menu=litomobile_menu,litomobile_menu},makeContainer:function(){var container=document.createElement("div");container.appendChild(this.mobileUl());var classes=" litomobile_container";switch(config.theme&&(classes+=" litomobile_"+config.theme),config.position){case"right":classes+=" litomobile_right";break;case"left":classes+=" litomobile_left";break;case"top":classes+=" litomobile_top";break;case"bottom":classes+=" litomobile_bottom"}container.className=classes,document.body.appendChild(container),this.container=container,this.setPosition(),this.addClickListener(),this.emitEvent()},init:function(){this.makeContainer(),this.makeIcon(),this.desktop_menu.style.display="none"},show:function(){this.container.style.display="block",this.icon.style.display="block",this.desktop_menu.style.display="none"},hide:function(){this.container.style.display="none",this.icon.style.display="none",this.desktop_menu.style.display=null},getWindowWidth:function(){var width,D;void 0!==window.innerHeight?width=window.innerWidth:width=(document.body.clientWidth?document.body:document.documentElement).clientWidth;return width},getHeightWithMargins:function(element){var style=element.currentStyle||window.getComputedStyle(element),height=null;return element.style.vsibility="hidden",element.style.height="auto",height=element.offsetHeight+parseFloat(style.marginTop)+parseFloat(style.marginBottom),element.style.height="0px",element.style.vsibility="visible",height},emitEvent:function(){var event;"function"==typeof Event?event=new Event("litomobileCreated"):(event=document.createEvent("Event")).initEvent("litomobileCreated",!0,!0),window.dispatchEvent(event)}};is_supported&&window.addEventListener("resize",function(){litomobile.getWindowWidth()<=parseFloat(config.window_size)?litomobile.ul_menu?litomobile.show():litomobile.init():litomobile.ul_menu&&(litomobile.hide(),litomobile.closeMenu())}),is_supported&&litomobile.getWindowWidth()<=parseFloat(config.window_size)&&litomobile.init()}